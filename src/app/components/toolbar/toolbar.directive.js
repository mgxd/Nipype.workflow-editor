(function () {
  'use strict';

  angular
    .module('workflowEditor')
    .directive('toolbar', toolbar);

  /** @ngInject */
  function toolbar() {
    return {
      restrict: 'E',
      templateUrl: 'app/components/toolbar/toolbar.html',
      scope: {
        packages: '=',
        model: '='
      },
      controller: ToolbarController,
      controllerAs: 'vm',
      bindToController: true
    };


    /** @ngInject */
    function ToolbarController(Blob, FileSaver) {
      var vm = this;
      vm.selected = null;
      vm.interfaces = vm.packages.interfaces;
      vm.modules = vm.packages.modules;
      vm.categories = vm.modules[""].submodules;

      angular.forEach(vm.interfaces, function (val, key) {
        val.category = key.split('.')[0];
      });

      function showToastr(message) {
        toastr.info(message);
      }

      vm.downloadJSON = function () {
        var obj = vm.model;
        var data = angular.toJson(obj);
        var blob = new Blob([data], {type: "text/plain;charset=utf-8"});
        showToastr('Downloaded workflow.json');
        FileSaver.saveAs(blob, "workflow.json");
      };


      vm.tree = [{
        name: 'IO',
        link: '#',
        subtree: [
          {name: 'XNATSink', link: '#'},
          {name: 'XNATSource', link: '#'},
          {name: 'JSONFileGrabber', link: '#'},
          {name: 'DataFinder', link: '#'},
          {name: 'FreeSurferSource', link: '#'},
          {name: 'SSHDataGrabber', link: '#'},
          {name: 'JSONFileSink', link: '#'},
          {name: 'SQLiteSink', link: '#'},
          {name: 'SelectFiles', link: '#'},
          {name: 'IOBase', link: '#'},
          {name: 'DataGrabber', link: '#'},
          {name: 'DataSink', link: '#'},
          {name: 'MySQLSink', link: '#'}
        ]
      }, {
        name: 'BASE',
        link: '#',
        subtree: [
          {name: 'StdOutCommandLine', link: '#'},
          {name: 'MpiCommandLine', link: '#'},
          {name: 'Interface', link: '#'},
          {name: 'BaseInterface', link: '#'},
          {name: 'CommandLine', link: '#'},
          {name: 'SEMLikeCommandLine', link: '#'}
        ]
      }, {
        name: 'UTILITY',
        link: '#',
        subtree: [{name: 'Merge', link: '#'},
          {name: 'Select', link: '#'},
          {name: 'Rename', link: '#'},
          {name: 'Split', link: '#'},
          {name: 'AssertEqual', link: '#'},
          {name: 'Function', link: '#'},
          {name: 'CSVReader', link: '#'},
          {name: 'IdentityInterface', link: '#'}
        ]
      }, {
        name: 'AFNI',
        link: '#',
        subtree: [
          {name: 'Fim', link: '#'},
          {name: 'SkullStrip', link: '#'},
          {name: 'Merge', link: '#'},
          {name: 'SVMTrain', link: '#'},
          {name: 'ZCutUp', link: '#'},
          {name: 'TCorr1D', link: '#'},
          {name: 'SVMTest', link: '#'},
          {name: 'Warp', link: '#'},
          {name: 'Copy', link: '#'},
          {name: 'Despike', link: '#'},
          {name: 'TCorrMap', link: '#'},
          {name: 'AFNICommand', link: '#'},
          {name: 'BlurInMask', link: '#'},
          {name: 'TCat', link: '#'},
          {name: 'Refit', link: '#'},
          {name: 'AutoTcorrelate', link: '#'},
          {name: 'Detrend', link: '#'},
          {name: 'Autobox', link: '#'},
          {name: 'Retroicor', link: '#'},
          {name: 'Fourier', link: '#'},
          {name: 'Maskave', link: '#'},
          {name: 'BrickStat', link: '#'},
          {name: 'Resample', link: '#'},
          {name: 'TStat', link: '#'},
          {name: 'Automask', link: '#'},
          {name: 'TShift', link: '#'},
          {name: 'ROIStats', link: '#'},
          {name: 'Bandpass', link: '#'},
          {name: 'Eval', link: '#'},
          {name: 'Calc', link: '#'},
          {name: 'Means', link: '#'},
          {name: 'Allineate', link: '#'},
          {name: 'Volreg', link: '#'},
          {name: 'To3D', link: '#'},
          {name: 'TCorrelate', link: '#'},
          {name: 'AFNItoNIFTI', link: '#'}
        ]
      }, {
        name: 'ANTS',
        link: '#',
        subtree: [
          {name: 'AverageImages', link: '#'},
          {name: 'CreateTiledMosaic', link: '#'},
          {name: 'WarpTimeSeriesImageMultiTransform', link: '#'},
          {name: 'WarpImageMultiTransform', link: '#'},
          {name: 'JacobianDeterminant', link: '#'},
          {name: 'LaplacianThickness', link: '#'},
          {name: 'ApplyTransforms', link: '#'},
          {name: 'N4BiasFieldCorrection', link: '#'},
          {name: 'MultiplyImages', link: '#'},
          {name: 'ANTS', link: '#'},
          {name: 'ConvertScalarImageToRGB', link: '#'},
          {name: 'Registration', link: '#'},
          {name: 'AverageAffineTransform', link: '#'},
          {name: 'Atropos', link: '#'},
          {name: 'ANTSCommand', link: '#'},
          {name: 'ApplyTransformsToPoints', link: '#'},
          {name: 'antsCorticalThickness', link: '#'},
          {name: 'JointFusion', link: '#'}
        ]
      }, {
        name: 'CAMINO',
        link: '#',
        subtree: [
          {name: 'SFPICOCalibData', link: '#'},
          {name: 'Image2Voxel', link: '#'},
          {name: 'DTIFit', link: '#'},
          {name: 'AnalyzeHeader', link: '#'},
          {name: 'QBallMX', link: '#'},
          {name: 'TrackBedpostxProba', link: '#'},
          {name: 'TrackBallStick', link: '#'},
          {name: 'FSL2Scheme', link: '#'},
          {name: 'TrackBedpostxDeter', link: '#'},
          {name: 'ComputeMeanDiffusivity', link: '#'},
          {name: 'ModelFit', link: '#'},
          {name: 'SFLUTGen', link: '#'},
          {name: 'MESD', link: '#'},
          {name: 'TrackBayesDirac', link: '#'},
          {name: 'SFPeaks', link: '#'},
          {name: 'ComputeFractionalAnisotropy', link: '#'},
          {name: 'LinRecon', link: '#'},
          {name: 'DTLUTGen', link: '#'},
          {name: 'ComputeTensorTrace', link: '#'},
          {name: 'ImageStats', link: '#'},
          {name: 'VtkStreamlines', link: '#'},
          {name: 'NIfTIDT2Camino', link: '#'},
          {name: 'PicoPDFs', link: '#'},
          {name: 'TrackDT', link: '#'},
          {name: 'ComputeEigensystem', link: '#'},
          {name: 'Conmat', link: '#'},
          {name: 'Track', link: '#'},
          {name: 'DT2NIfTI', link: '#'},
          {name: 'Shredder', link: '#'},
          {name: 'TrackBootstrap', link: '#'},
          {name: 'TractShredder', link: '#'},
          {name: 'ProcStreamlines', link: '#'},
          {name: 'TrackPICo', link: '#'},
          {name: 'DTMetric', link: '#'}
        ]
      }, {
        name: 'CAMINO2TRACKVIS',
        link: '#',
        subtree: [
          {name: 'Trackvis2Camino', link: '#'},
          {name: 'Camino2Trackvis', link: '#'}
        ]
      }, {
        name: 'CMTK',
        link: '#',
        subtree: [{name: 'NetworkXMetrics', link: '#'},
          {name: 'Parcellate', link: '#'},
          {name: 'NetworkBasedStatistic', link: '#'},
          {name: 'CFFConverter', link: '#'},
          {name: 'ROIGen', link: '#'},
          {name: 'AverageNetworks', link: '#'},
          {name: 'MergeCNetworks', link: '#'},
          {name: 'CreateMatrix', link: '#'},
          {name: 'CreateNodes', link: '#'}
        ]
      }, {
        name: 'DIFFUSION TOOLKIT',
        link: '#',
        subtree: [
          {name: 'ODFRecon', link: '#'},
          {name: 'DTITracker', link: '#'},
          {name: 'HARDIMat', link: '#'},
          {name: 'ODFTracker', link: '#'},
          {name: 'TrackMerge', link: '#'},
          {name: 'SplineFilter', link: '#'},
          {name: 'DTIRecon', link: '#'}
        ]
      }, {
        name: 'DIPY',
        link: '#',
        subtree: [
          {name: 'DTI', link: '#'},
          {name: 'TrackDensityMap', link: '#'},
          {name: 'TensorMode', link: '#'},
          {name: 'Denoise', link: '#'},
          {name: 'Resample', link: '#'},
          {name: 'SimulateMultiTensor', link: '#'}
        ]
      }, {
        name: 'ELASTIX',
        link: '#',
        subtree: [
          {name: 'PointsWarp', link: '#'},
          {name: 'ApplyWarp', link: '#'},
          {name: 'AnalyzeWarp', link: '#'},
          {name: 'Registration', link: '#'},
          {name: 'EditTransform', link: '#'}
        ]
      }, {
        name: 'FREESURFER',
        link: '#',
        subtree: [{name: 'Binarize', link: '#'},
          {name: 'MRITessellate', link: '#'},
          {name: 'Resample', link: '#'},
          {name: 'MRIMarchingCubes', link: '#'},
          {name: 'MRIsConvert', link: '#'},
          {name: 'Label2Vol', link: '#'},
          {name: 'ParseDICOMDir', link: '#'},
          {name: 'MRISPreproc', link: '#'},
          {name: 'BBRegister', link: '#'},
          {name: 'Concatenate', link: '#'},
          {name: 'ApplyMask', link: '#'},
          {name: 'GLMFit', link: '#'},
          {name: 'DICOMConvert', link: '#'},
          {name: 'ReconAll', link: '#'},
          {name: 'Tkregister2', link: '#'},
          {name: 'SampleToSurface', link: '#'},
          {name: 'RobustRegister', link: '#'},
          {name: 'Surface2VolTransform', link: '#'},
          {name: 'MRIConvert', link: '#'},
          {name: 'SurfaceSmooth', link: '#'},
          {name: 'FSCommand', link: '#'},
          {name: 'Smooth', link: '#'},
          {name: 'SmoothTessellation', link: '#'},
          {name: 'SynthesizeFLASH', link: '#'},
          {name: 'SegStats', link: '#'},
          {name: 'SurfaceSnapshots', link: '#'},
          {name: 'OneSampleTTest', link: '#'},
          {name: 'MRIPretess', link: '#'},
          {name: 'ApplyVolTransform', link: '#'},
          {name: 'SurfaceTransform', link: '#'},
          {name: 'ImageInfo', link: '#'},
          {name: 'FitMSParams', link: '#'},
          {name: 'MakeAverageSubject', link: '#'},
          {name: 'UnpackSDICOMDir', link: '#'},
          {name: 'MS_LDA', link: '#'},
          {name: 'ExtractMainComponent', link: '#'}
        ]
      }, {
        name: 'FSL',
        link: '#',
        subtree: [
          {name: 'EPIDeWarp', link: '#'},
          {name: 'AvScale', link: '#'},
          {name: 'Level1Design', link: '#'},
          {name: 'ImageMaths', link: '#'},
          {name: 'EpiReg', link: '#'},
          {name: 'DilateImage', link: '#'},
          {name: 'FILMGLS', link: '#'},
          {name: 'Merge', link: '#'},
          {name: 'ConvertXFM', link: '#'},
          {name: 'FIRST', link: '#'},
          {name: 'ProjThresh', link: '#'},
          {name: 'DistanceMap', link: '#'},
          {name: 'SpatialFilter', link: '#'},
          {name: 'ConvertWarp', link: '#'},
          {name: 'MathsCommand', link: '#'},
          {name: 'ProbTrackX2', link: '#'},
          {name: 'ErodeImage', link: '#'},
          {name: 'MELODIC', link: '#'},
          {name: 'RobustFOV', link: '#'},
          {name: 'ApplyXfm', link: '#'},
          {name: 'ProbTrackX', link: '#'},
          {name: 'Threshold', link: '#'},
          {name: 'FSLCommand', link: '#'},
          {name: 'CopyGeom', link: '#'},
          {name: 'MaxImage', link: '#'},
          {name: 'IsotropicSmooth', link: '#'},
          {name: 'Slicer', link: '#'},
          {name: 'ApplyMask', link: '#'},
          {name: 'MeanImage', link: '#'},
          {name: 'SwapDimensions', link: '#'},
          {name: 'FUGUE', link: '#'},
          {name: 'Eddy', link: '#'},
          {name: 'ChangeDataType', link: '#'},
          {name: 'MultipleRegressDesign', link: '#'},
          {name: 'SMM', link: '#'},
          {name: 'FilterRegressor', link: '#'},
          {name: 'FAST', link: '#'},
          {name: 'PrepareFieldmap', link: '#'},
          {name: 'ImageStats', link: '#'},
          {name: 'BET', link: '#'},
          {name: 'VecReg', link: '#'},
          {name: 'FEATModel', link: '#'},
          {name: 'TemporalFilter', link: '#'},
          {name: 'FNIRT', link: '#'},
          {name: 'SUSAN', link: '#'},
          {name: 'XFibres', link: '#'},
          {name: 'TractSkeleton', link: '#'},
          {name: 'L2Model', link: '#'},
          {name: 'ImageMeants', link: '#'},
          {name: 'Cluster', link: '#'},
          {name: 'WarpPointsToStd', link: '#'},
          {name: 'Split', link: '#'},
          {name: 'MultiImageMaths', link: '#'},
          {name: 'WarpUtils', link: '#'},
          {name: 'FSLXCommand', link: '#'},
          {name: 'MotionOutliers', link: '#'},
          {name: 'SigLoss', link: '#'},
          {name: 'Randomise', link: '#'},
          {name: 'SmoothEstimate', link: '#'},
          {name: 'ApplyTOPUP', link: '#'},
          {name: 'InvWarp', link: '#'},
          {name: 'Smooth', link: '#'},
          {name: 'ContrastMgr', link: '#'},
          {name: 'XFibres5', link: '#'},
          {name: 'XFibres4', link: '#'},
          {name: 'UnaryMaths', link: '#'},
          {name: 'ExtractROI', link: '#'},
          {name: 'Reorient2Std', link: '#'},
          {name: 'FLIRT', link: '#'},
          {name: 'Overlay', link: '#'},
          {name: 'BEDPOSTX', link: '#'},
          {name: 'GLM', link: '#'},
          {name: 'SliceTimer', link: '#'},
          {name: 'FEATRegister', link: '#'},
          {name: 'PRELUDE', link: '#'},
          {name: 'MakeDyadicVectors', link: '#'},
          {name: 'SigLoss', link: '#'},
          {name: 'FEAT', link: '#'},
          {name: 'BEDPOSTX4', link: '#'},
          {name: 'EddyCorrect', link: '#'},
          {name: 'MCFLIRT', link: '#'},
          {name: 'PlotTimeSeries', link: '#'},
          {name: 'ApplyWarp', link: '#'},
          {name: 'FindTheBiggest', link: '#'},
          {name: 'PlotMotionParams', link: '#'},
          {name: 'WarpPoints', link: '#'},
          {name: 'BEDPOSTX5', link: '#'},
          {name: 'TOPUP', link: '#'},
          {name: 'DTIFit', link: '#'},
          {name: 'BinaryMaths', link: '#'},
          {name: 'FLAMEO', link: '#'},
          {name: 'PowerSpectrum', link: '#'},
          {name: 'Complex', link: '#'}
        ]
      }, {
        name: 'MIPAV',
        link: '#',
        subtree: [
          {name: 'MedicAlgorithmSPECTRE2010', link: '#'},
          {name: 'JistCortexSurfaceMeshInflation', link: '#'},
          {name: 'JistBrainMp2rageDuraEstimation', link: '#'},
          {name: 'JistBrainPartialVolumeFilter', link: '#'},
          {name: 'JistBrainMgdmSegmentation', link: '#'},
          {name: 'MedicAlgorithmLesionToads', link: '#'},
          {name: 'JistLaminarProfileCalculator', link: '#'},
          {name: 'MedicAlgorithmImageCalculator', link: '#'},
          {name: 'JistLaminarProfileSampling', link: '#'},
          {name: 'JistLaminarVolumetricLayering', link: '#'},
          {name: 'JistBrainMp2rageSkullStripping', link: '#'},
          {name: 'RandomVol', link: '#'},
          {name: 'MedicAlgorithmThresholdToBinaryMask', link: '#'},
          {name: 'MedicAlgorithmN3', link: '#'},
          {name: 'JistIntensityMp2rageMasking', link: '#'},
          {name: 'JistLaminarProfileGeometry', link: '#'},
          {name: 'MedicAlgorithmMipavReorient', link: '#'},
          {name: 'JistLaminarROIAveraging', link: '#'}
        ]
      }, {
        name: 'MNE',
        link: '#',
        subtree: [
          {name: 'WatershedBEM', link: '#'}
        ]
      }, {
        name: 'MRTRIX',
        link: '#',
        subtree: [
          {name: 'Tracks2Prob', link: '#'},
          {name: 'FindShPeaks', link: '#'},
          {name: 'GenerateDirections', link: '#'},
          {name: 'Directions2Amplitude', link: '#'},
          {name: 'FilterTracks', link: '#'},
          {name: 'Tensor2Vector', link: '#'},
          {name: 'MRTrixViewer', link: '#'},
          {name: 'MRTransform', link: '#'},
          {name: 'SphericallyDeconvolutedStreamlineTrack', link: '#'},
          {name: 'Tensor2ApparentDiffusion', link: '#'},
          {name: 'MRMultiply', link: '#'},
          {name: 'ProbabilisticSphericallyDeconvolutedStreamlineTrack', link: '#'},
          {name: 'MRConvert', link: '#'},
          {name: 'MRTrixInfo', link: '#'},
          {name: 'DiffusionTensorStreamlineTrack', link: '#'},
          {name: 'MedianFilter3D', link: '#'},
          {name: 'Tensor2FractionalAnisotropy', link: '#'},
          {name: 'ConstrainedSphericalDeconvolution', link: '#'},
          {name: 'EstimateResponseForSH', link: '#'},
          {name: 'Threshold', link: '#'},
          {name: 'Erode', link: '#'},
          {name: 'GenerateWhiteMatterMask', link: '#'},
          {name: 'StreamlineTrack', link: '#'},
          {name: 'MRTrix2TrackVis', link: '#'},
          {name: 'DWI2SphericalHarmonicsImage', link: '#'},
          {name: 'FSL2MRTrix', link: '#'},
          {name: 'DWI2Tensor', link: '#'}
        ]
      }, {
        name: 'NIPY',
        link: '#',
        subtree: [
          {name: 'FmriRealign4d', link: '#'},
          {name: 'FitGLM', link: '#'},
          {name: 'Similarity', link: '#'},
          {name: 'SpaceTimeRealigner', link: '#'},
          {name: 'Trim', link: '#'},
          {name: 'ComputeMask', link: '#'},
          {name: 'EstimateContrast', link: '#'}
        ]
      }, {
        name: 'NITIME',
        link: '#',
        subtree: [
          {name: 'CoherenceAnalyzer', link: '#'}
        ]
      }, {
        name: 'SEMTOOLS',
        link: '#',
        subtree: [
          {name: 'gtractAverageBvalues', link: '#'},
          {name: 'BRAINSLinearModelerEPCA', link: '#'},
          {name: 'VBRAINSDemonWarp', link: '#'},
          {name: 'gtractTransformToDisplacementField', link: '#'},
          {name: 'TextureMeasureFilter', link: '#'},
          {name: 'BRAINSFit', link: '#'},
          {name: 'GenerateCsfClippedFromClassifiedImage', link: '#'},
          {name: 'DilateMask', link: '#'},
          {name: 'gtractInvertDisplacementField', link: '#'},
          {name: 'DWIConvert', link: '#'},
          {name: 'STAPLEAnalysis', link: '#'},
          {name: 'BRAINSSnapShotWriter', link: '#'},
          {name: 'BRAINSLandmarkInitializer', link: '#'},
          {name: 'gtractTensor', link: '#'},
          {name: 'compareTractInclusion', link: '#'},
          {name: 'ErodeImage', link: '#'},
          {name: 'BRAINSClipInferior', link: '#'},
          {name: 'landmarksConstellationAligner', link: '#'},
          {name: 'gtractResampleCodeImage', link: '#'},
          {name: 'fiberstats', link: '#'},
          {name: 'DWISimpleCompare', link: '#'},
          {name: 'gtractCoRegAnatomy', link: '#'},
          {name: 'BRAINSTransformConvert', link: '#'},
          {name: 'BRAINSTalairach', link: '#'},
          {name: 'GenerateAverageLmkFile', link: '#'},
          {name: 'CannyEdge', link: '#'},
          {name: 'GenerateLabelMapFromProbabilityMap', link: '#'},
          {name: 'extractNrrdVectorIndex', link: '#'},
          {name: 'BRAINSConstellationModeler', link: '#'},
          {name: 'BRAINSEyeDetector', link: '#'},
          {name: 'gtractFastMarchingTracking', link: '#'},
          {name: 'gtractCoregBvalues', link: '#'},
          {name: 'BRAINSMush', link: '#'},
          {name: 'SphericalCoordinateGeneration', link: '#'},
          {name: 'HistogramMatchingFilter', link: '#'},
          {name: 'fiberprocess', link: '#'},
          {name: 'BRAINSPosteriorToContinuousClass', link: '#'},
          {name: 'ImageRegionPlotter', link: '#'},
          {name: 'gtractCostFastMarching', link: '#'},
          {name: 'UnbiasedNonLocalMeans', link: '#'},
          {name: 'BRAINSABC', link: '#'},
          {name: 'SimilarityIndex', link: '#'},
          {name: 'UKFTractography', link: '#'},
          {name: 'GradientAnisotropicDiffusionImageFilter', link: '#'},
          {name: 'dtiprocess', link: '#'},
          {name: 'GenerateSummedGradientImage', link: '#'},
          {name: 'BRAINSDemonWarp', link: '#'},
          {name: 'insertMidACPCpoint', link: '#'},
          {name: 'BRAINSResample', link: '#'},
          {name: 'gtractResampleFibers', link: '#'},
          {name: 'gtractResampleB0', link: '#'},
          {name: 'DumpBinaryTrainingVectors', link: '#'},
          {name: 'gtractResampleDWIInPlace', link: '#'},
          {name: 'gtractInvertBSplineTransform', link: '#'},
          {name: 'CannySegmentationLevelSetImageFilter', link: '#'},
          {name: 'FlippedDifference', link: '#'},
          {name: 'gtractResampleAnisotropy', link: '#'},
          {name: 'landmarksConstellationWeights', link: '#'},
          {name: 'dtiaverage', link: '#'},
          {name: 'gtractClipAnisotropy', link: '#'},
          {name: 'scalartransform', link: '#'},
          {name: 'gtractCreateGuideFiber', link: '#'},
          {name: 'BRAINSMultiSTAPLE', link: '#'},
          {name: 'JointHistogram', link: '#'},
          {name: 'CleanUpOverlapLabels', link: '#'},
          {name: 'BRAINSLmkTransform', link: '#'},
          {name: 'BRAINSAlignMSP', link: '#'},
          {name: 'DilateImage', link: '#'},
          {name: 'BRAINSROIAuto', link: '#'},
          {name: 'BinaryMaskEditorBasedOnLandmarks', link: '#'},
          {name: 'BRAINSTrimForegroundInDirection', link: '#'},
          {name: 'fcsv_to_hdf5', link: '#'},
          {name: 'gtractAnisotropyMap', link: '#'},
          {name: 'ShuffleVectorsModule', link: '#'},
          {name: 'BRAINSTransformFromFiducials', link: '#'},
          {name: 'NeighborhoodMean', link: '#'},
          {name: 'GenerateBrainClippedImage', link: '#'},
          {name: 'BRAINSCut', link: '#'},
          {name: 'fibertrack', link: '#'},
          {name: 'BRAINSCreateLabelMapFromProbabilityMaps', link: '#'},
          {name: 'TextureFromNoiseImageFilter', link: '#'},
          {name: 'dtiestim', link: '#'},
          {name: 'NeighborhoodMedian', link: '#'},
          {name: 'DWICompare', link: '#'},
          {name: 'BRAINSResize', link: '#'},
          {name: 'gtractConcatDwi', link: '#'},
          {name: 'gtractInvertRigidTransform', link: '#'},
          {name: 'DistanceMaps', link: '#'},
          {name: 'gtractCopyImageOrientation', link: '#'},
          {name: 'gtractFiberTracking', link: '#'},
          {name: 'BRAINSTalairachMask', link: '#'},
          {name: 'HammerAttributeCreator', link: '#'},
          {name: 'FindCenterOfBrain', link: '#'},
          {name: 'gtractImageConformity', link: '#'},
          {name: 'maxcurvature', link: '#'},
          {name: 'BRAINSConstellationDetector', link: '#'},
          {name: 'LandmarksCompare', link: '#'},
          {name: 'BRAINSInitializedControlPoints', link: '#'},
          {name: 'ESLR', link: '#'},
          {name: 'GenerateTestImage', link: '#'}
        ]
      }, {
        name: 'SLICER',
        link: '#',
        subtree: [
          {name: 'HistogramMatching', link: '#'},
          {name: 'ModelToLabelMap', link: '#'},
          {name: 'DTIimport', link: '#'},
          {name: 'DWIRicianLMMSEFilter', link: '#'},
          {name: 'ResampleDTIVolume', link: '#'},
          {name: 'ImageLabelCombine', link: '#'},
          {name: 'GaussianBlurImageFilter', link: '#'},
          {name: 'BRAINSROIAuto', link: '#'},
          {name: 'OtsuThresholdSegmentation', link: '#'},
          {name: 'CheckerBoardFilter', link: '#'},
          {name: 'MaskScalarVolume', link: '#'},
          {name: 'OtsuThresholdImageFilter', link: '#'},
          {name: 'ACPCTransform', link: '#'},
          {name: 'ExpertAutomatedRegistration', link: '#'},
          {name: 'BRAINSDemonWarp', link: '#'},
          {name: 'ResampleScalarVectorDWIVolume', link: '#'},
          {name: 'BSplineToDeformationField', link: '#'},
          {name: 'ResampleScalarVolume', link: '#'},
          {name: 'ExtractSkeleton', link: '#'},
          {name: 'DiffusionWeightedVolumeMasking', link: '#'},
          {name: 'BRAINSResample', link: '#'},
          {name: 'AffineRegistration', link: '#'},
          {name: 'MergeModels', link: '#'},
          {name: 'RobustStatisticsSegmenter', link: '#'},
          {name: 'ModelMaker', link: '#'},
          {name: 'MedianImageFilter', link: '#'},
          {name: 'ProbeVolumeWithModel', link: '#'},
          {name: 'VotingBinaryHoleFillingImageFilter', link: '#'},
          {name: 'CastScalarVolume', link: '#'},
          {name: 'N4ITKBiasFieldCorrection', link: '#'},
          {name: 'LabelMapSmoothing', link: '#'},
          {name: 'GradientAnisotropicDiffusion', link: '#'},
          {name: 'LinearRegistration', link: '#'},
          {name: 'OrientScalarVolume', link: '#'},
          {name: 'CurvatureAnisotropicDiffusion', link: '#'},
          {name: 'MultiResolutionAffineRegistration', link: '#'},
          {name: 'ThresholdScalarVolume', link: '#'},
          {name: 'AddScalarVolumes', link: '#'},
          {name: 'SimpleRegionGrowingSegmentation', link: '#'},
          {name: 'DWIUnbiasedNonLocalMeansFilter', link: '#'},
          {name: 'EMSegmentTransformToNewFormat', link: '#'},
          {name: 'DicomToNrrdConverter', link: '#'},
          {name: 'MultiplyScalarVolumes', link: '#'},
          {name: 'GrayscaleFillHoleImageFilter', link: '#'},
          {name: 'DTIexport', link: '#'},
          {name: 'DiffusionTensorScalarMeasurements', link: '#'},
          {name: 'VBRAINSDemonWarp', link: '#'},
          {name: 'TractographyLabelMapSeeding', link: '#'},
          {name: 'DWIJointRicianLMMSEFilter', link: '#'},
          {name: 'IntensityDifferenceMetric', link: '#'},
          {name: 'SubtractScalarVolumes', link: '#'},
          {name: 'BSplineDeformableRegistration', link: '#'},
          {name: 'RigidRegistration', link: '#'},
          {name: 'GrayscaleGrindPeakImageFilter', link: '#'},
          {name: 'EMSegmentCommandLine', link: '#'},
          {name: 'GrayscaleModelMaker', link: '#'},
          {name: 'DWIToDTIEstimation', link: '#'},
          {name: 'BRAINSFit', link: '#'},
          {name: 'PETStandardUptakeValueComputation', link: '#'},
          {name: 'FiducialRegistration', link: '#'}
        ]
      }, {
        name: 'SPM',
        link: '#',
        subtree: [{name: 'DARTEL', link: '#'},
          {name: 'Normalize', link: '#'},
          {name: 'Level1Design', link: '#'},
          {name: 'CreateWarped', link: '#'},
          {name: 'ApplyTransform', link: '#'},
          {name: 'Realign', link: '#'},
          {name: 'VBMSegment', link: '#'},
          {name: 'DARTELNorm2MNI', link: '#'},
          {name: 'ThresholdStatistics', link: '#'},
          {name: 'FactorialDesign', link: '#'},
          {name: 'CalcCoregAffine', link: '#'},
          {name: 'Coregister', link: '#'},
          {name: 'MultipleRegressionDesign', link: '#'},
          {name: 'SPMCommand', link: '#'},
          {name: 'ResliceToReference', link: '#'},
          {name: 'TwoSampleTTestDesign', link: '#'},
          {name: 'EstimateModel', link: '#'},
          {name: 'NewSegment', link: '#'},
          {name: 'Normalize12', link: '#'},
          {name: 'SliceTiming', link: '#'},
          {name: 'Smooth', link: '#'},
          {name: 'ApplyInverseDeformation', link: '#'},
          {name: 'ApplyDeformations', link: '#'},
          {name: 'PairedTTestDesign', link: '#'},
          {name: 'Segment', link: '#'},
          {name: 'Analyze2nii', link: '#'},
          {name: 'EstimateContrast', link: '#'},
          {name: 'OneSampleTTestDesign', link: '#'},
          {name: 'Threshold', link: '#'},
          {name: 'DicomImport', link: '#'},
          {name: 'Reslice', link: '#'}
        ]
      }, {
        name: 'MATLAB',
        link: '#',
        subtree: [
          {name: 'MatlabCommand', link: '#'}
        ]
      }, {
        name: 'VISTA',
        link: '#',
        subtree: [
          {name: 'VtoMat', link: '#'},
          {name: 'Vnifti2Image', link: '#'}
        ]
      }];


    }
  }

})();
