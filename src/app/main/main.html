<nav class="navbar navbar-fixed-top navbar-default container-fluid">
  <div class="nav navbar-nav">
    <a href="http://nipy.org/nipype/" class="pull-left"><img height="50" src="assets/images/nipy.png"></a>
    <span class="navbar-brand pull-left">Nipype Workflow Editor </span>
    <button ng-click="main.openAside()" class="pull-right btn btn-success btn-md" type="button">
      Add Node
    </button>
    <li><a href="#">
      <i class="fa fa-upload" aria-hidden="true"></i>
      Load
    </a></li>
    <li><a ng-click="main.downloadJSON()">
      <i class="fa fa-download" aria-hidden="true"></i>
      Download
    </a></li>
  </div>
</nav>


<button type="button" class="navbar-toggle toggle-sidebar toggle-right" ng-click="showRightSidebar = !showRightSidebar">
  <span class="icon-bar"></span>
  <span class="icon-bar"></span>
  <span class="icon-bar"></span>
</button>
<!--<div sidebar="main.showRightSidebar" click-outside="showRightSidebar = false" class="col-xs-7 col-sm-2 col-md-2 sidebar-right sidebar-animate">-->
<!--<ul class="nav navbar-stacked" ng-repeat="category in main.categories">-->
<!--<li><a ng-click="menu.selectCategory">{{category | uppercase}}</a></li>-->
<!--</ul>-->
<!--</div>-->
<div sidebar="main.showRightSidebar" click-outside="showRightSidebar = false"
     class="col-xs-7 col-sm-2 col-md-2 sidebar-right sidebar-animate">

  <form role="search">
    <div class="form-group">
      <input type="text" ng-model="selected" placeholder="Search for an Interface" uib-typeahead-min-length="0"
             uib-typeahead="interface for interface in main.interface_fullnames | filter:$viewValue | limitTo:10"
             class="form-control" typeahead-on-select="main.selectItem($item, $model, $label)">
    </div>
  </form>


  <div ng-init="expanded=false" class="nav navbar-stacked" ng-repeat="category in main.categories">
    <button type="button" class="btn btn-default btn-block" ng-click="expanded = !expanded">
      {{category | uppercase}}
      <span ng-if="expanded" class="pull-right glyphicon glyphicon-menu-up" aria-hidden="true"></span>
      <span ng-if="!expanded" class="pull-right glyphicon glyphicon-menu-down" aria-hidden="true"></span>

      <!--<span ng-if="expanded" class="pull-left glyphicon glyphicon-chevron-down" aria-hidden="true"></span>-->
      <!--<span ng-if="!expanded" class="pull-left glyphicon glyphicon-chevron-right" aria-hidden="true"></span>-->
    </button>
    <div uib-collapse="!expanded" ng-repeat="(index, interface_object) in main.interfacesByCategory(category)">
      <div ng-repeat="(interface, name) in interface_object" ng-init="even=index%2">
        <button type="button" ng-click="main.selectItem(interface, null, name)"
                ng-class="even==0 ? 'btn btn-primary btn-block' : 'btn btn-primary btn-block'">
          {{name}}
        </button>
      </div>
    </div>
  </div>
</div>




<div class="col-md-10">

  <workflow
    model="main.model"
    default-node-width="150"
    node-height="70"
    editor-width="main.editorWidth"
    editor-height="main.editorHeight"
  >

  </workflow>


</div>
